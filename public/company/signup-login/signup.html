<!DOCTYPE html>
<htmL>
    <head>
        <script src="/__/firebase/6.5.0/firebase-app.js"></script>
        <script src="/__/firebase/6.5.0/firebase-auth.js"></script>
        <script src="/__/firebase/init.js"></script>
        <link href="https://fonts.googleapis.com/css?family=Lato:100" rel="stylesheet">
        <link rel="stylesheet" type="text/css" href="signup.css">
    </head>

    <script type="text/javascript" src="../../Authentication/authentication.js"></script>
    <body>
        <form>
            <div class="container">
                <h1 class="signup" id="text">Employer Signup</h1>
                <label class="user-name" id="text">Name</label>
                <input type="text" placeholder="Enter name" name="name" id="name" required>
                <label class="email" id="text">Company Email</label>
                <input type="text" placeholder="Enter email" name="email" id="email" required>
                <label class="user-name" id="text">Company Name</label>
                <input type="text" placeholder="Enter company name" name="company" id="company" required>
                <label class="password" id="text">Password</label>
                <input type="password" placeholder="Enter password" name="password" id="password" required>
                <label class="password" id="text">Re-Enter Password</label>
                <input type="password" placeholder="Re-Enter password" name="reenter-password" id="reenter-password"  required>

                <div class="enter">
                    <button type="button" class="cancelButton">Cancel</button>
                    <input type="button" class="signupButton" value="Sign Up" onclick="userSignUp(document.getElementById('email').value, document.getElementById('password').value, document.getElementById('reenter-password').value);">
                </div>
                <div class="login-route">
                    <h3 id="login">Have an account?</h3>
                    <span tabindex="-1" class="login"><input type="button" class="login" id="text" onclick="location.href='../signup-login/login.html';" value="Login"/></span>
                </div>
                <div class="other">
                    <span tabindex="-1" class="other"><input type="button" class="other" id="text" onclick="location.href='../../candidate/signup-login/signup.html';" value="Signup as Candidate"/></span>
                </div>
            </div>
        </form>
    </body>
    <script type="text/javascript">
        function handleSignUp() {

        //save the name in the database maybe

        var email = document.getElementById('email').value;
        var password = document.getElementById('password').value;
        if (email.length < 4) {
          alert('Please enter an email address.');
          return;
        }
        if (password.length < 4) {
          alert('Please enter a password.');
          return;
        }
        // Sign in with email and pass.
        // [START createwithemail]
        firebase.auth().createUserWithEmailAndPassword(email, password).sendEmailVerification().alert("Verification Email Sent").catch(function(error) {
          // Handle Errors here.
          var errorCode = error.code;
          var errorMessage = error.message;
          // [START_EXCLUDE]
          if (errorCode == 'auth/weak-password') {
            alert('The password is too weak.');
          } else {
            alert(errorMessage);
          }
          console.log(error);
          // [END_EXCLUDE]
        });
        // [END createwithemail]

          //sendEmailVerification();
          firebase.auth().currentUser.sendEmailVerification().then(function() {
          // Email Verification sent!
          // [START_EXCLUDE]
          alert('Email Verification Sent!');
      
          //============================================================
          //figure out how to send the company a number as their ID
          //============================================================


          //============================================================
          //redirect to login page
          //<meta http-equiv="Refresh" content="0; a href= />
          //============================================================

          // [END_EXCLUDE]
        });
        

    }
      /*function sendEmailVerification() {
        // [START sendemailverification]
        firebase.auth().currentUser.sendEmailVerification().then(function() {
          // Email Verification sent!
          // [START_EXCLUDE]
          alert('Email Verification Sent!');
          // [END_EXCLUDE]
        
        // [END sendemailverification]*/

        </script>
</htmL>